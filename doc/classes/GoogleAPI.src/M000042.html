<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
<head>
  <title>clicmd (GoogleAPI)</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
</head>
<body class="standalone-code">
  <pre><span class="ruby-comment cmt"># File googleapi.rb, line 317</span>
                <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clicmd</span>(<span class="ruby-identifier">words</span>)
                        <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">words</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">downcase</span>
                        <span class="ruby-comment cmt">#explicitly defined commands first</span>
                        <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'debug'</span><span class="ruby-operator">:</span>
                                <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">words</span>[<span class="ruby-value">1</span>]
                                        <span class="ruby-ivar">@debug</span> = <span class="ruby-identifier">words</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>
                                <span class="ruby-keyword kw">else</span>
                                        <span class="ruby-ivar">@debug</span> = <span class="ruby-value">1</span>
                                <span class="ruby-keyword kw">end</span> 
                        <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'new'</span>,<span class="ruby-value str">'make'</span><span class="ruby-operator">:</span>
                                <span class="ruby-ivar">@curobj</span> = <span class="ruby-keyword kw">nil</span>
                                <span class="ruby-identifier">cname</span> = <span class="ruby-identifier">words</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">capitalize</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'entry'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">words</span>[<span class="ruby-value">1</span>]
                                <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Class</span>.<span class="ruby-identifier">constants</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">cname</span>)
                                        <span class="ruby-identifier">klass</span> = <span class="ruby-identifier">eval</span> <span class="ruby-identifier">cname</span> 
                                        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">words</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>
                                                <span class="ruby-ivar">@curobj</span> = <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">words</span>[<span class="ruby-value">2</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>])
                                        <span class="ruby-keyword kw">else</span>
                                                <span class="ruby-ivar">@curobj</span> = <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">promptnew</span>(<span class="ruby-ivar">@INSTREAM</span>,<span class="ruby-ivar">@OUTSTREAM</span>)
                                        <span class="ruby-keyword kw">end</span>
                                        <span class="ruby-identifier">dumpobj</span>
                                <span class="ruby-keyword kw">else</span>
                                        <span class="ruby-ivar">@OUTSTREAM</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Unknown object type #{words[1]}&quot;</span>
                                <span class="ruby-keyword kw">end</span>
                        <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'show'</span>,<span class="ruby-value str">'@curobj'</span><span class="ruby-operator">:</span> 
                                <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@curobj</span>
                                        <span class="ruby-identifier">dumpobj</span>
                                <span class="ruby-keyword kw">else</span>
                                        <span class="ruby-ivar">@OUTSTREAM</span>.<span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;No current object&quot;</span>
                                <span class="ruby-keyword kw">end</span>
                        <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'clear'</span><span class="ruby-operator">:</span> <span class="ruby-ivar">@curobj</span> = <span class="ruby-keyword kw">nil</span>
                                <span class="ruby-ivar">@OUTSTREAM</span>.<span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Current object cleared&quot;</span>
                        <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'read'</span><span class="ruby-operator">:</span>
                                <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">words</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">2</span>
                                        <span class="ruby-ivar">@OUTSTREAM</span>.<span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Must spcify file name&quot;</span>
                                <span class="ruby-keyword kw">else</span>
                                        <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">inputfile</span>(<span class="ruby-identifier">words</span>[<span class="ruby-value">1</span>])
                                <span class="ruby-keyword kw">end</span>
                        <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'pipe'</span><span class="ruby-operator">:</span> 
                                <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">words</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">2</span>
                                        <span class="ruby-ivar">@OUTSTREAM</span>.<span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Must specify file name&quot;</span>
                                <span class="ruby-keyword kw">else</span>
                                        <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">openpipe</span>(<span class="ruby-identifier">words</span>[<span class="ruby-value">1</span>])
                                <span class="ruby-keyword kw">end</span>
                        <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'nopipe'</span><span class="ruby-operator">:</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">closepipe</span>
                        <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'prompt'</span><span class="ruby-operator">:</span> 
                                <span class="ruby-ivar">@prompt</span> = <span class="ruby-identifier">words</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>].<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot; &quot;</span>)
                                <span class="ruby-ivar">@prompt</span> = <span class="ruby-value str">&quot;GoogleAPI&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">words</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
                        <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'edit'</span>,<span class="ruby-value str">'modify'</span>,<span class="ruby-value str">'set'</span><span class="ruby-operator">:</span>
                                <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">words</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@curobj</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-node">&quot;#{words[1]}&quot;</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@curobj</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-node">&quot;#{words[1]}=&quot;</span>)
                                        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">words</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">3</span>
                                                <span class="ruby-identifier">val</span> = <span class="ruby-identifier">words</span>[<span class="ruby-value">2</span>]
                                        <span class="ruby-keyword kw">else</span>
                                                <span class="ruby-ivar">@OUTSTREAM</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Current: #{words[1]}=#{@curobj.send(words[1])}&quot;</span>
                                                <span class="ruby-ivar">@OUTSTREAM</span>.<span class="ruby-identifier">print</span> <span class="ruby-node">&quot;#{words[1]}:&quot;</span>
                                                <span class="ruby-identifier">val</span> = <span class="ruby-ivar">@INSTREAM</span>.<span class="ruby-identifier">gets</span>.<span class="ruby-identifier">chomp</span>
                                        <span class="ruby-keyword kw">end</span>
                                        <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">val</span>.<span class="ruby-identifier">downcase</span>
                                        <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'true'</span>,<span class="ruby-value str">'yes'</span><span class="ruby-operator">:</span> <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">true</span>
                                        <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'false'</span>,<span class="ruby-value str">'no'</span><span class="ruby-operator">:</span> <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">false</span>
                                        <span class="ruby-keyword kw">when</span> <span class="ruby-value str">''</span><span class="ruby-operator">:</span> <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span>
                                        <span class="ruby-keyword kw">end</span>
                                        <span class="ruby-ivar">@OUTSTREAM</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Setting #{words[1]} to #{val}&quot;</span>
                                        <span class="ruby-ivar">@curobj</span>.<span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{words[1]}=&quot;</span>,<span class="ruby-identifier">val</span>)
                                        <span class="ruby-ivar">@OUTSTREAM</span>.<span class="ruby-identifier">puts</span> <span class="ruby-ivar">@curobj</span>.<span class="ruby-identifier">apidump</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@curobj</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value str">&quot;apidump&quot;</span>)
                                <span class="ruby-keyword kw">else</span>
                                        <span class="ruby-ivar">@OUTSTREAM</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Invalid variable name #{words[1]}&quot;</span>
                                <span class="ruby-keyword kw">end</span>
                        <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'select'</span><span class="ruby-operator">:</span>
                                <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@curobj</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Array</span>
                                        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">words</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">match</span>(<span class="ruby-regexp re">/[0-9]*/</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">words</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span> <span class="ruby-operator">&lt;</span> <span class="ruby-ivar">@curobj</span>.<span class="ruby-identifier">length</span>
                                                <span class="ruby-ivar">@curobj</span> = <span class="ruby-ivar">@curobj</span>[<span class="ruby-identifier">words</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>]
                                                <span class="ruby-identifier">dumpobj</span>
                                        <span class="ruby-keyword kw">else</span>
                                                <span class="ruby-ivar">@OUTSTREAM</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Invalid index #{words[1]}&quot;</span>
                                        <span class="ruby-keyword kw">end</span>
                                <span class="ruby-keyword kw">else</span>
                                        <span class="ruby-ivar">@OUTSTREAM</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;#{@curobj.class.name} not array&quot;</span>
                                <span class="ruby-keyword kw">end</span>
                        <span class="ruby-keyword kw">else</span>
                                <span class="ruby-identifier">method</span> = <span class="ruby-identifier">words</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">split</span>(<span class="ruby-value str">'.'</span>)[<span class="ruby-value">0</span>] <span class="ruby-comment cmt">#see if the typed command matches a method name</span>
                                <span class="ruby-identifier">objmeth</span> = <span class="ruby-node">&quot;#{method}#{@curobj.class.name.downcase.gsub(&quot;entry&quot;,&quot;&quot;)}&quot;</span> <span class="ruby-comment cmt">#also see if we can infer the method based on the current object</span>
                                <span class="ruby-ivar">@OUTSTREAM</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;method: #{method} (#{self.respond_to?(method)})\nobjmeth: #{objmeth} (#{self.respond_to?(objmeth)})\nobjclass: #{@curbj ? @curobj.class.name.gsub(/entry$/,&quot;&quot;) : 'None'}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@debug</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
<span class="ruby-comment cmt">#                               if !self.respond_to?(method) and self.respond_to?(objmeth) and (!words[1] or (words[1].downcase != @curobj.class.name.gsub(/entry$/,&quot;&quot;).downcase)) and ((words.length - 1) &lt;= self.class.instance_method(objmeth).arity.abs)</span>
                                <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">method</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">objmeth</span>) <span class="ruby-keyword kw">and</span> (<span class="ruby-operator">!</span><span class="ruby-identifier">words</span>[<span class="ruby-value">1</span>] <span class="ruby-keyword kw">or</span> <span class="ruby-operator">!</span><span class="ruby-constant">Class</span>.<span class="ruby-identifier">constants</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-node">&quot;#{words[1].capitalize}entry&quot;</span>)) <span class="ruby-keyword kw">and</span> ((<span class="ruby-identifier">words</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) <span class="ruby-operator">&lt;=</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">instance_method</span>(<span class="ruby-identifier">objmeth</span>).<span class="ruby-identifier">arity</span>.<span class="ruby-identifier">abs</span>)
                                        <span class="ruby-identifier">words</span>[<span class="ruby-value">0</span>] = <span class="ruby-identifier">objmeth</span> 
                                <span class="ruby-keyword kw">end</span>

                                <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">words</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">split</span>(<span class="ruby-value str">'.'</span>)[<span class="ruby-value">0</span>])
                                        <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@curobj</span> <span class="ruby-keyword kw">and</span> 
                                           <span class="ruby-ivar">@curobj</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value str">&quot;objid&quot;</span>) <span class="ruby-keyword kw">and</span>
                                           (<span class="ruby-identifier">words</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) <span class="ruby-operator">&lt;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">instance_method</span>(<span class="ruby-identifier">words</span>[<span class="ruby-value">0</span>]).<span class="ruby-identifier">arity</span>.<span class="ruby-identifier">abs</span>
                                                <span class="ruby-ivar">@OUTSTREAM</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;calling #{words[0]} using current object (#{@curobj.class.name}{#{@curobj.objid}})&quot;</span>
                                                <span class="ruby-identifier">words</span>[<span class="ruby-identifier">words</span>.<span class="ruby-identifier">length</span>] = <span class="ruby-ivar">@curobj</span> 
                                        <span class="ruby-keyword kw">end</span>
                                        <span class="ruby-ivar">@OUTSTREAM</span>.<span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;method valid&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@debug</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>
                                        <span class="ruby-identifier">ret</span> = <span class="ruby-identifier">call_meth</span>(<span class="ruby-keyword kw">self</span>,<span class="ruby-identifier">words</span>[<span class="ruby-value">0</span>],<span class="ruby-identifier">words</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>])
                                        <span class="ruby-identifier">dumpobj</span>(<span class="ruby-identifier">ret</span>)
                                <span class="ruby-comment cmt">#then do some simple checking to see if removing spaces makes it match</span>
                                <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">words</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">match</span>(<span class="ruby-regexp re">/^new|^make/</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-constant">Class</span>.<span class="ruby-identifier">constants</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-node">&quot;#{words[0][3..-1].capitalize}entry&quot;</span>)
                                        <span class="ruby-identifier">cmdary</span> = [<span class="ruby-value str">&quot;new&quot;</span>,<span class="ruby-identifier">words</span>[<span class="ruby-value">0</span>][<span class="ruby-value">3</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>]] <span class="ruby-operator">+</span> [<span class="ruby-identifier">words</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>]].<span class="ruby-identifier">reject</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span> }.<span class="ruby-identifier">flatten</span>
                                        <span class="ruby-ivar">@OUTSTREAM</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Assuming you meant '#{cmdary.join(&quot; &quot;)}'&quot;</span>
                                        <span class="ruby-identifier">clicmd</span>(<span class="ruby-identifier">cmdary</span>)
                                <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">words</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">3</span>].<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;&quot;</span>).<span class="ruby-identifier">match</span>(<span class="ruby-regexp re">/^(getusernickname|getmemberof)$/</span>)
                                       <span class="ruby-identifier">cmdary</span> = [<span class="ruby-identifier">words</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">3</span>].<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;&quot;</span>)] <span class="ruby-operator">+</span> [<span class="ruby-identifier">words</span>[<span class="ruby-value">4</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>]].<span class="ruby-identifier">reject</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span> }.<span class="ruby-identifier">flatten</span>      
                                       <span class="ruby-ivar">@OUTSTREAM</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Assuming you meant '#{cmdary.join(&quot; &quot;)}'&quot;</span>
                                       <span class="ruby-identifier">clicmd</span>(<span class="ruby-identifier">cmdary</span>)       
                                <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">words</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">2</span>].<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;&quot;</span>).<span class="ruby-identifier">match</span>(<span class="ruby-regexp re">/^(((get|delete|del|getuser)nickname)|getmemberof)$/</span>)
                                       <span class="ruby-identifier">cmdary</span> = [<span class="ruby-identifier">words</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">2</span>].<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;&quot;</span>)] <span class="ruby-operator">+</span> [<span class="ruby-identifier">words</span>[<span class="ruby-value">3</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>]].<span class="ruby-identifier">reject</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span> }.<span class="ruby-identifier">flatten</span>
                                       <span class="ruby-ivar">@OUTSTREAM</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Assuming you meant '#{cmdary.join(&quot; &quot;)}'&quot;</span>
                                       <span class="ruby-identifier">clicmd</span>(<span class="ruby-identifier">cmdary</span>)       
                                <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">words</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">1</span>].<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;&quot;</span>).<span class="ruby-identifier">match</span>(<span class="ruby-regexp re">/^((get(user|group|nickname|member|owner))|addmember|(remove(member|owner))|((delete|del)(group|user|nickname))|setowner)$/</span>)
                                        <span class="ruby-identifier">cmdary</span> = [<span class="ruby-identifier">words</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">1</span>].<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;&quot;</span>)] <span class="ruby-operator">+</span> [<span class="ruby-identifier">words</span>[<span class="ruby-value">2</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>]].<span class="ruby-identifier">reject</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span> }.<span class="ruby-identifier">flatten</span>
                                        <span class="ruby-ivar">@OUTSTREAM</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Assuming you meant '#{cmdary.join(&quot; &quot;)}'&quot;</span>
                                        <span class="ruby-identifier">clicmd</span>(<span class="ruby-identifier">cmdary</span>)     
                                <span class="ruby-keyword kw">else</span>
                                <span class="ruby-comment cmt">#ok, I can't find it</span>
                                        <span class="ruby-ivar">@OUTSTREAM</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;undefined method #{words[0]}&quot;</span>
                                <span class="ruby-keyword kw">end</span>
                        <span class="ruby-keyword kw">end</span>
                <span class="ruby-keyword kw">end</span></pre>
</body>
</html>